
<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Country Search</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="container">
        <h1>Country Search</h1>
        <input type="text" id="search-box" placeholder="Enter country name">
        <ul id="country-list"></ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.21.1/dist/axios.min.js"></script>
    <script src="fetchCountries.js"></script>
    <script>
        const input = document.getElementById('search-box');
        const list = document.getElementById('country-list');

        const debouncedFetch = _.debounce((name) => {
            fetchCountries(name)
                .then((countries) => {
                    renderCountries(countries);
                });
        }, 30);

        input.addEventListener('input', (event) => {
            const name = event.target.value.trim();
            debouncedFetch(name);
        });

        function renderCountries(countries) {
            list.innerHTML = '';

            countries.forEach((country) => {
                const li = document.createElement('li');
                li.textContent = `${country.name.official} - ${country.capital} - ${country.population} - ${country.flags.svg} - ${country.languages.join(', ')}`;

                list.appendChild(li);
            });
        }
    </script>
</body>
</html>
